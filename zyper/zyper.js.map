{"version":3,"sources":["zyper.js"],"names":["opts","textFields","Zyper","config","buildLabel","getTextFields","selector","inputs","document","querySelectorAll","length","console","warn","i","addEventListener","activateLabel","e","onType","disableLabel","window","event","stopPropagation","ZyperText","innerHTML","target","value","wrapper","createElement","textField","customClass","backgroundColor","textColor","borderColor","borderRadius","font","className","style","width","height","border","display","position","padding","margin","color","appendChild","body","input","getStyle","fontSize","X","offsetLeft","Y","offsetTop","left","top","minWidth","element","property","noPx","getComputedStyle","getPropertyValue","split"],"mappings":"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","file":"zyper.js","sourcesContent":["/**\n * Created by jahansj on 10/09/2016.\n */\n\n// Must take config object, first option is to target all text input or only a specific class \n// if no specific class provided uses default .zyper (or something)\n\nconst opts = {\n  // A selector to match the text fields | true - indicating all fields | empty string - indicating '[data-zyper=\"true\"]'\n  textFields: true//'.form-wrap [type=\"text\"]'\n};\n\nclass Zyper {\n  constructor(config) {\n    this.buildLabel(config);\n    this.getTextFields(config.textFields);\n  }\n\n  /**\n   * Get text inputs and bind events\n   * @param textFields\n   * @returns {*}\n   */\n  getTextFields(textFields) {\n    let selector;\n\n    if (textFields === true) {\n      selector = '[type=\"text\"]';\n    }\n    else if (!textFields) {\n      selector = '[type=\"text\"][data-zyper=\"true\"]';\n    }\n    else {\n      selector = textFields;\n    }\n\n    const inputs = document.querySelectorAll(selector);\n\n    if (!inputs.length) {\n      console.warn('Zyper: Could not find matching text fields.');\n\n      return false;\n    }\n\n    for (let i = 0, length = inputs.length; i < length; i++) {\n      inputs[i].addEventListener('focus', e => this.activateLabel(e));\n      inputs[i].addEventListener('input', e => this.onType(e));\n      inputs[i].addEventListener('blur', () => this.disableLabel());\n    }\n  }\n\n  /**\n   * Input handler\n   * @param e\n   */\n  onType(e) {\n    e = e || window.event;\n    e.stopPropagation();\n    \n    this.ZyperText.innerHTML = e.target.value;\n  }\n  \n  /**\n   * Build Zyper and assign to class variables\n   */\n  buildLabel(config) {\n    const wrapper = document.createElement('div');\n    const textField = document.createElement('span');\n    const customClass = config.customClass || '';\n    const backgroundColor = config.backgroundColor || 'rgb(37, 51, 66)';\n    const textColor = config.textColor || '#fff';\n    const borderColor = config.borderColor || '#fff';\n    const borderRadius = config.borderRadius || '6px';\n    const font = config.font || '\"Lucida Grande\", Helvetica, Arial, sans-serif';\n\n    wrapper.className = `zyper ${customClass}`;\n    wrapper.style.width = '100px';\n    wrapper.style.height = '50px';\n    wrapper.style.backgroundColor = backgroundColor;\n    wrapper.style.border = `4px solid ${borderColor}`;\n    wrapper.style.borderRadius = borderRadius;\n    wrapper.style.display = 'none';\n    wrapper.style.position = 'absolute';\n    wrapper.style.padding = '3px 7px';\n    wrapper.style.margin = '0';\n\n    textField.style.font = font;\n    textField.style.height = '100%';\n    textField.style.width = '100%';\n    textField.style.color = textColor;\n    \n    wrapper.appendChild(textField);\n    document.body.appendChild(wrapper);\n    \n    this.Zyper = wrapper;\n    this.ZyperText = textField;\n  }\n\n  /**\n   * Display Zyper and position above active input\n   * @param e\n   */\n  activateLabel(e) {\n    const input = e.target;\n    const height = this.getStyle(input, 'height', true);\n    const width = this.getStyle(input, 'width');\n    const fontSize = this.getStyle(input, 'font-size', true) * 2;\n    const X = input.offsetLeft;\n    const Y = input.offsetTop;\n    \n    this.ZyperText.innerHTML = input.value;\n    this.ZyperText.style.fontSize = `${fontSize}px`;\n    this.Zyper.style.left = `${X}px`;\n    this.Zyper.style.top = `${Y - (height * 3)}px`;\n    this.Zyper.style.height = `${height * 2}px`;\n    this.Zyper.style.minWidth = width;\n    this.Zyper.style.width = 'auto';\n    this.Zyper.style.display = 'block';\n  }\n\n  /**\n   * Hide Zyper\n   */\n  disableLabel() {\n    this.ZyperText.innerHTML = '';\n    this.Zyper.style.display = 'none';\n  }\n\n  /**\n   * Return computed style of an element\n   * @param element\n   * @param property\n   * @param noPx\n   * @returns {string}\n   */\n  getStyle(element, property, noPx) {\n    if (noPx) {\n      return window.getComputedStyle(element).getPropertyValue(property).split('p')[0];\n    }\n    return window.getComputedStyle(element).getPropertyValue(property);\n  }\n}\n\nnew Zyper(opts);"],"sourceRoot":"/source/"}